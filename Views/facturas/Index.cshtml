@model IEnumerable<ferre2.Models.facturas>

@{
    ViewBag.Title = "Facturas";
}

<div class="main-container">

    <div class="productos-wrapper">

        <!-- HEADER -->
        <div class="productos-header-nuevo">
            <h2 class="header-title">Facturas</h2>

            <div>
                @Html.ActionLink("➕ Crear Nueva Factura", "Create", null, new { @class = "btn btn-ferreteria" })
                @Html.ActionLink("📄 Detalle Factura", "Index", "detalles_factura", null, new { @class = "btn btn-ferreteria" })
            </div>
        </div>

        <!-- GRID DE FACTURAS -->
        <div class="productos-grid-nuevo">

            @foreach (var item in Model)
            {
                <div class="card-producto-nuevo">

                    <h3>@item.numero_factura</h3>

                    <div class="producto-info-nuevo">
                        <div><label>Cliente:</label> @item.clientes.nombre_razon_social</div>
                        <div><label>Emisión:</label> @item.fecha_emision</div>
                        <div><label>Vence:</label> @item.fecha_vencimiento</div>
                        <div><label>Subtotal:</label> @item.subtotal</div>
                        <div><label>Impuestos:</label> @item.total_impuestos</div>
                        <div><label>Descuentos:</label> @item.total_descuentos</div>
                        <div><label>Total:</label> <strong>@item.total</strong></div>
                        <div>
                            <label>Estado:</label>
                            <span class="badge bg-success">@item.estado</span>
                        </div>
                        <div><label>Método pago:</label> @item.metodo_pago</div>
                    </div>

                    <div class="card-buttons-nuevo">
                        <a href="@Url.Action("Edit", new { id = item.id_factura })"
                           class="btn btn-ferreteria btn-edit-nuevo">✏️ Editar</a>

                        <a href="@Url.Action("Details", new { id = item.id_factura })"
                           class="btn btn-outline-ferreteria btn-view-nuevo">👁️ Ver</a>

                        <a href="@Url.Action("Delete", new { id = item.id_factura })"
                           class="btn btn-danger btn-delete-nuevo">🗑️ Eliminar</a>
                    </div>

                </div>
            }

        </div>

    </div>

</div>

